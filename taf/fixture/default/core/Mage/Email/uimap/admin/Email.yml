#
# Magento
#
# NOTICE OF LICENSE
#
# This source file is subject to the Academic Free License (AFL 3.0)
# that is bundled with this package in the file LICENSE_AFL.txt.
# It is also available through the world-wide-web at this URL:
# http://opensource.org/licenses/afl-3.0.php
# If you did not receive a copy of the license and are unable to
# obtain it through the world-wide-web, please send an email
# to license@magentocommerce.com so we can send you a copy immediately.
#
# DISCLAIMER
#
# Do not edit or add to this file if you wish to upgrade Magento to newer
# versions in the future. If you wish to customize Magento for your
# needs please refer to http://www.magentocommerce.com for more information.
#
# @category    tests
# @package     selenium
# @subpackage  uimaps
# @author      Magento Core Team <core@magentocommerce.com>
# @copyright   Copyright (c) 2013 Magento Inc. (http://www.magentocommerce.com)
# @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
#
---
#Manage Transactional Emails and related pages
# 'Transactional Emails' page
system_email_template:
    mca: system_email_template/
    click_xpath: //div[@class='nav-bar']//a[normalize-space(span)='Transactional Emails']
    title: Transactional Emails / System / Magento Admin
    uimap:
        form: &searchTemplateForm
            fieldsets:
                -
                    search_template_form:
                        xpath: //table[@id='systemEmailTemplateGrid_table']//thead
                        fields:
                            template_id: //input[@name='template_id']
                            code: //input[@name='code']
                            added_at: //input[@name='added_at']
                            modified_at: //input[@name='modified_at']
                            subject: //input[@name='subject']
                        dropdowns:
                            type: //select[@name='type']
                            store_id: //select[@name='store_id']

        buttons:
            add_new_template: //button[span='Add New Template']
            reset_filter: //button[span='Reset Filter']

        messages: &templateMessages
            success_saved_template: //li[normalize-space(@class)='success-msg' and contains(.,'The email template has been saved.')]
            success_deleted_template: //li[normalize-space(@class)='success-msg' and contains(.,'The email template has been deleted.')]
            error_duplicated_template: //li[normalize-space(@class)='error-msg' and contains(.,'A Template with this Name already exists for specified store.')]
            confirmation_for_delete_template: Are you sure that you want to delete this template?

# 'New Template' Page
create_template:
    mca: system_email_template/new
    title: New Template / Transactional Emails / System / Magento Admin
    uimap:
        form: &newTemplateForm
            fieldsets:
                -
                    email_template_load_form:
                        xpath: //form[@id='email_template_load_form']
                        dropdowns:
                            template_select: //select[@id='template_select']
                            locale_select: //select[@id='locale_select']

                -
                    email_template_edit_form:
                        xpath: //form[@id='email_template_edit_form']
                        fields:
                            template_code: //input[@name='template_code']
                            template_subject: //input[@name='template_subject']
                            template_text: //textarea[@name='template_text']
                            template_styles: //input[@name='template_styles']
                        multiselects:
                            store_view: //select[@name='stores[]']

        buttons: &newTemplateFormButtons
            back: //button[span='Back']
            reset: //button[span='Reset']
            delete_template: //button[span='Delete Template']
            save_template: //button[span='Save Template']

        messages: *templateMessages

# 'Edit Template' Page
edit_template:
    mca: system_email_template/edit/id/%id%
    title: %elementTitle% / Transactional Emails / System / Magento Admin
    uimap:
        form: *newTemplateForm

        buttons: *newTemplateFormButtons

        messages: *templateMessages

# 'New Template' Page
save_template:
    mca: system_email_template/save
    title: New Template / Transactional Emails / System / Magento Admin
    uimap:
        messages: *templateMessages

